<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC
    "-//Hibernate/Hibernate Mapping DTD//EN"
    "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<hibernate-mapping package="li.rajenlab.canto.common.domain.product">

  <class name="Product" table="CANTO_PRODUCT">
  
	<!-- Entity mapping -->
    <id name="id" column="ID" type="long">
      <generator class="native"/>
    </id>
    <property name="creationTime" type="timestamp">
      <column name="CREATION_TIME"/>
    </property>
    <property name="modifiedDate" type="timestamp">
      <column name="CHANGE_TIME"/>
    </property>
    
    <!-- Property mapping -->
    <property name="productId">
    	<column name="PRODUCT_UID" unique="true" not-null="true"/>
    </property>

    <!-- Association mapping -->
	<map name="metadata" table="CANTO_PRODUCT_METADATA">
    	<key column="PRODUCT_ID"/>
	    <map-key column="META_NAME" type="string"/>
    	<element column="META_VALUE" type="string" length="2000"/>
	</map>    	
    <set name="categories" table="CANTO_PRODUCT_CATEGORIES">
      <key column="productId" not-null="true"/>
      <one-to-many class="ProductCategory"/>
    </set>
     <set name="segments" table="CANTO_PRODUCT_SEGMENTS">
      <key column="productId" not-null="true"/>
      <one-to-many class="ProductSegment"/>
    </set>
   

  </class>
    
</hibernate-mapping>   
